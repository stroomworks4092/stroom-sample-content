<?xml version="1.1" encoding="UTF-8"?>
<pipeline>
   <elements>
      <add>
         <element>
            <id>combinedParser</id>
            <type>CombinedParser</type>
         </element>
         <element>
            <id>xsltFilter</id>
            <type>XSLTFilter</type>
         </element>
         <element>
            <id>splitFilter</id>
            <type>SplitFilter</type>
         </element>
         <element>
            <id>httpPostFilter</id>
            <type>HttpPostFilter</type>
         </element>
         <element>
            <id>xmlWriter</id>
            <type>XMLWriter</type>
         </element>
         <element>
            <id>streamAppender</id>
            <type>StreamAppender</type>
         </element>
         <element>
            <id>kafkaProducerFilter</id>
            <type>KafkaProducerFilter</type>
         </element>
      </add>
   </elements>
   <properties>
      <add>
         <property>
            <element>xsltFilter</element>
            <name>xslt</name>
            <value>
               <entity>
                  <type>XSLT</type>
                  <uuid>def78501-c5a4-4e0a-aafe-3ee97f45bd9a</uuid>
                  <name>Count to statistics schema v3.0</name>
               </entity>
            </value>
         </property>
         <property>
            <element>splitFilter</element>
            <name>splitCount</name>
            <value>
               <integer>1000</integer>
            </value>
         </property>
         <property>
            <element>httpPostFilter</element>
            <name>receivingApiUrl</name>
            <value>
               <string>http://localhost:8085/statistics</string>
            </value>
         </property>
         <property>
            <element>streamAppender</element>
            <name>feed</name>
            <value>
               <entity>
                  <type>Feed</type>
                  <uuid>6193413d-3536-436c-900e-2a67b892c8b1</uuid>
                  <name>COUNT_V3</name>
               </entity>
            </value>
         </property>
         <property>
            <element>streamAppender</element>
            <name>streamType</name>
            <value>
               <string>Events</string>
            </value>
         </property>
         <property>
            <element>kafkaProducerFilter</element>
            <name>recordKey</name>
            <value>
               <string>statistics</string>
            </value>
         </property>
         <property>
            <element>kafkaProducerFilter</element>
            <name>topic</name>
            <value>
               <string>statistics</string>
            </value>
         </property>
      </add>
   </properties>
   <links>
      <add>
         <link>
            <from>combinedParser</from>
            <to>splitFilter</to>
         </link>
         <link>
            <from>xsltFilter</from>
            <to>httpPostFilter</to>
         </link>
         <link>
            <from>xsltFilter</from>
            <to>xmlWriter</to>
         </link>
         <link>
            <from>xsltFilter</from>
            <to>kafkaProducerFilter</to>
         </link>
         <link>
            <from>splitFilter</from>
            <to>xsltFilter</to>
         </link>
         <link>
            <from>xmlWriter</from>
            <to>streamAppender</to>
         </link>
      </add>
   </links>
</pipeline>
